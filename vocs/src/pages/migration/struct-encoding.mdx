---
description: How Solidity structs map to ABI tuples and how to encode them with Foundry.
---

## Struct encoding

Solidity structs map to ABI tuples. That means the struct:

```solidity
struct MyStruct {
    address owner;
    uint256 amount;
}
```

corresponds to the ABI tuple `(address,uint256)`.

### Encode a struct with Cast

```bash [Encode a tuple]
cast abi-encode "f((address,uint256))" "(0x000000000000000000000000000000000000dEaD, 1000)"
```

### Nested structs

Nested structs become nested tuples:

```solidity
struct Inner {
    address addr;
    uint256 amount;
}

struct Outer {
    string label;
    uint256 id;
    Inner inner;
}
```

The ABI tuple is `(string,uint256,(address,uint256))`.

```bash [Encode a nested tuple]
cast abi-encode "f((string,uint256,(address,uint256)))" "(\"vault\", 1, (0x000000000000000000000000000000000000dEaD, 1000))"
```

### Decoder compatibility

ABI coder v2 is required for nested structs and arrays. Solidity 0.8+ enables it by default. For older contracts, add:

```solidity
pragma experimental ABIEncoderV2;
```
